version: "3.1"

rules:


- rule: handle message with low NLU confidence
  steps:
  - intent: nlu_fallback
  - action: utter_default
  - action: utter_default_close_session
  - action: action_end_dialog


- rule: start session and successful session load
  steps:
  - intent: start_session1
  - action: action_load_session_first
  - slot_was_set:
    - session_loaded: true
  - action: utter_greet_1
  - action: utter_greet_2
  - action: utter_confirm_mood

- rule: start session and unsuccessful session load
  steps:
  - intent: start_session1
  - action: action_load_session_first
  - slot_was_set:
    - session_loaded: false
  - action: utter_default_close_session
  - action: action_end_dialog


- rule: mood good explain purpose
  steps:
  - intent: confirm_mood_good
  - action: utter_mood_good_response  
  - action: utter_purpose_1
  - action: utter_purpose_2
  - action: utter_purpose_3
  - action: utter_purpose_4
  - action: utter_purpose_5
  - action: utter_purpose_6
  - action: utter_purpose_7
  - action: utter_confirm_purpose

- rule: mood neutral explain purpose 
  steps:
  - intent: confirm_mood_neutral
  - action: utter_mood_neutral_response
  - action: utter_purpose_1
  - action: utter_purpose_2
  - action: utter_purpose_3
  - action: utter_purpose_4
  - action: utter_purpose_5
  - action: utter_purpose_6
  - action: utter_purpose_7
  - action: utter_confirm_purpose

- rule: mood bad explain purpose
  steps:
  - intent: confirm_mood_bad
  - action: utter_mood_bad_response
  - action: utter_purpose_1
  - action: utter_purpose_2
  - action: utter_purpose_3
  - action: utter_purpose_4
  - action: utter_purpose_5
  - action: utter_purpose_6
  - action: utter_purpose_7
  - action: utter_confirm_purpose


- rule: confirm purpose explain usage
  steps:
  - intent: confirm_purpose
  - action: utter_prompt_usage
  - action: utter_explain_usage


- rule: internal motivation
  steps:
  - intent: confirm_usage
  - action: utter_internal_moivation_1
  - action: utter_internal_moivation_2
  - action: utter_internal_moivation_question

- rule: explain why planning is useful
  steps:
  - intent: confirm_motivation
  - action: utter_explain_usefulness_planning_1
  - action: utter_explain_usefulness_planning_2
  - action: utter_explain_usefulness_planning_3
  - action: utter_explain_usefulness_planning_4
  - action: utter_explain_usefulness_planning_question

- rule: ask about routines
  steps:
  - intent: confirm_usefulnes_planning_intro
  - action: utter_routines_1


- rule: goodbye
  steps:
  - intent: confirm_state_pa
  - action: utter_goodbye

- rule: end
  steps:
  - intent: confirm_goodbye
  - action: utter_final_close_session
  - action: action_end_dialog
