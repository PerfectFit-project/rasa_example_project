version: "3.1"

rules:


- rule: handle message with low NLU confidence
  steps:
  - intent: nlu_fallback
  - action: utter_default
  - action: utter_default_close_session
  - action: action_end_dialog


- rule: start session and successful session load
  steps:
  - intent: start_session1
  - action: action_load_session_first
  - slot_was_set:
    - session_loaded: true
  - action: utter_greet_1
  - action: utter_greet_2
  - action: utter_confirm_mood

- rule: start session and unsuccessful session load
  steps:
  - intent: start_session1
  - action: action_load_session_first
  - slot_was_set:
    - session_loaded: false
  - action: utter_default_close_session
  - action: action_end_dialog


- rule: mood good explain purpose
  steps:
  - intent: confirm_mood_good
  - action: utter_mood_good_response  
  - action: utter_purpose_1
  - action: utter_purpose_2
  - action: utter_purpose_3
  - action: utter_purpose_4
  - action: utter_purpose_5
  - action: utter_purpose_6
  - action: utter_purpose_7
  - action: utter_purpose_8
  - action: utter_purpose_9
  - action: utter_purpose_10

- rule: mood neutral explain purpose 
  steps:
  - intent: confirm_mood_neutral
  - action: utter_mood_neutral_response
  - action: utter_purpose_1
  - action: utter_purpose_2
  - action: utter_purpose_3
  - action: utter_purpose_4
  - action: utter_purpose_5
  - action: utter_purpose_6
  - action: utter_purpose_7
  - action: utter_purpose_8
  - action: utter_purpose_9
  - action: utter_purpose_10

- rule: mood bad explain purpose
  steps:
  - intent: confirm_mood_bad
  - action: utter_mood_bad_response
  - action: utter_purpose_1
  - action: utter_purpose_2
  - action: utter_purpose_3
  - action: utter_purpose_4
  - action: utter_purpose_5
  - action: utter_purpose_6
  - action: utter_purpose_7
  - action: utter_purpose_8
  - action: utter_purpose_9
  - action: utter_purpose_10


- rule: confirm purpose, explain usage
  steps:
  - intent: confirm_purpose
  - action: utter_prompt_usage
  - action: utter_explain_usage


- rule: intro session 1
  steps:
  - intent: confirm_usage
  - action: utter_intro_session_1
  - action: utter_intro_session_2
  - action: utter_intro_session_3
  - action: utter_intro_session_4
  - action: utter_intro_session_5
  - action: utter_intro_session_6
  - action: utter_intro_session_7

- rule: state questions session
  steps:
  - intent: confirm_intro_session
  - action: utter_state_pa_question_intro
  - action: utter_state_question


# - rule: end state answering
#   steps:
#   - intent: confirm_state_pa
#   - action: utter_transition_new_activity
#   - action: utter_propose_new_activity_intro
#   - action: utter_activity
#   - action: utter_activity_read

# - rule: read activity
#   steps:
#   - intent: confirm_activity_read
#   - action: utter_cool
#   - action: utter_email_reminder
#   - action: utter_remind_next_part

- rule: goodbye
  steps:
  - intent: confirm_state_pa
  - action: utter_goodbye

- rule: end
  steps:
  - intent: confirm_goodbye
  - action: utter_final_close_session
  - action: action_end_dialog
