version: "3.1"

intents:
### Session
- start_session1


# mood
- confirm_mood_good
- confirm_mood_neutral
- confirm_mood_bad

# purpose
- confirm_purpose

# usage
- confirm_usage

# internal motivation

- confirm_motivation

# usefulness planning intro

- confirm_usefulnes_planning_intro

## free time

# monday

- confirm_monday
- confirm_monday_continue

# tuesday

- confirm_tuesday
- confirm_tuesday_continue

# wednesday

- confirm_wednesday
- confirm_wednesday_continue

# thursday

- confirm_thursday
- confirm_thursday_continue


# end session
- confirm_goodbye


entities:

- monday_morning:
    influence_conversation: false

- monday_midday:
    influence_conversation: false

- monday_afternoon:
    influence_conversation: false

- monday_evening:
    influence_conversation: false

- tuesday_morning:
    influence_conversation: false

- tuesday_midday:
    influence_conversation: false

- tuesday_afternoon:
    influence_conversation: false

- tuesday_evening:
    influence_conversation: false


- wednesday_morning:
    influence_conversation: false

- wednesday_midday:
    influence_conversation: false

- wednesday_afternoon:
    influence_conversation: false

- wednesday_evening:
    influence_conversation: false

- thursday_morning:
    influence_conversation: false

- thursday_midday:
    influence_conversation: false

- thursday_afternoon:
    influence_conversation: false

- thursday_evening:
    influence_conversation: false


slots:
  ### intro/general
  session_loaded:
    type: bool
    influence_conversation: true
    mappings:
    - type: custom


  ### free time
  monday_morning:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: monday_morning

  monday_midday:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: monday_midday

  monday_afternoon:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: monday_afternoon

  monday_evening:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: monday_evening

  tuesday_morning:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: tuesday_morning

  tuesday_midday:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: tuesday_midday

  tuesday_afternoon:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: tuesday_afternoon

  tuesday_evening:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: tuesday_evening

  wednesday_morning:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: wednesday_morning

  wednesday_midday:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: wednesday_midday

  wednesday_afternoon:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: wednesday_afternoon

  wednesday_evening:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: wednesday_evening

  thursday_morning:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: thursday_morning

  thursday_midday:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: thursday_midday

  thursday_afternoon:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: thursday_afternoon

  thursday_evening:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: thursday_evening

responses:


  ### Intro 
  utter_greet_1:
  - text: "Hey there! I'm Jamie, your virtual coach."

  utter_greet_2:
  - text: "I'm happy to meet you."


  utter_confirm_mood:
  - buttons:
    - payload: /confirm_mood_good
      title: "I'm doing great!"
    - payload: /confirm_mood_neutral
      title: "I'm alright."
    - payload: /confirm_mood_bad
      title: "Not so goodâ€¦"
    text: "How are you doing today?"

  utter_mood_good_response:
  - text: "That's good to hear!"

  utter_mood_neutral_response:
  - text: "Okay. That's good."

  utter_mood_bad_response:
  - text: "I'm sorry to hear that. I hope our conversation might cheer you up a bit."


  utter_purpose_1:
  - text: "Let me tell you a bit about myself next. My goal is to help people prepare for becoming more physically active."


  utter_purpose_2:
  - text: "Being more physically active is generally regarded as beneficial for both health and mood."


  utter_purpose_3:
  - text: "Well, we will create a plan together for when you will be exercising. Keep in mind that I won't ask you to do the exercises. We are only creating a plan."


  utter_purpose_4:
  - text: "I will, however, ask you to behave as if you really had to follow this plan to do physical activity."

  utter_purpose_5:
  - text: "And don't worry, we'll start off easy with planning some walks throughout the week."

  utter_purpose_6:
  - text: "Unlike leisurely walks though, you'll have to do them at moderate intensity. What that means is that you'll have to walk about 100 steps per minute."


  utter_purpose_7:
  - text: "Don't be alarmed if that seems a bit much right now. It will get easier after the first few times."

  utter_confirm_purpose:
  - buttons:
    - payload: /confirm_purpose
      title: "Okay!"
    - payload: /confirm_purpose
      title: "Sure!"
    text: "Ultimately, my goal is to help you create a plan that works best for your situation, so let's make sure that our effort is worth it and make a great plan, okay?"


  utter_prompt_usage:
  - text: "Nice! Before we start, let me explain how you can communicate with me."


  utter_explain_usage:
  - buttons:
    - payload: /confirm_usage
      title: "Okay, that makes sense!"
    - payload: /confirm_usage
      title: "I understand."
    text: "Most of the time, you can just click on one of the buttons like you already did. If no buttons appear, just make use of the text field below."


  utter_internal_moivation_1:
  - text: "The researchers already told me that you're quite motivated to do physical activity. "


  utter_internal_moivation_2:
  - text: "So, I wanted to ask: what motivates you to be more physically active?"

  utter_internal_moivation_question:
  - buttons:
    - payload: /confirm_motivation
      title: "I want to be more healthy."
    - payload: /confirm_motivation
      title: "I want to be fit. I want to get in shape."
    - payload: /confirm_motivation
      title: "I want to lose some weight."
    - payload: /confirm_motivation
      title: "I want to relax by doing exercise."
    - payload: /confirm_motivation
      title: "I have a different reason."
    text: "I'll show you a few common reasons, but if you have a different one, feel free to pick \"I have a different reason\"."

  
  utter_explain_usefulness_planning_1:
  - text: "Now, I told you we'll make a plan together, but I forgot to mention why this is important to begin with."

  utter_explain_usefulness_planning_2:
  - text: "If you have a clear indication of when you should do an activity, it will be much easier for you to actually do it."

  utter_explain_usefulness_planning_3:
  - text: "You'll have a clear schedule set in place, which will make it a bit difficult to avoid doing exercise or to postpone it."

  utter_explain_usefulness_planning_4:
  - text: "After all, there is only so much time in a week."

  utter_explain_usefulness_planning_question:
  - buttons:
    - payload: /confirm_usefulnes_planning_intro
      title: "Yeah."
    - payload: /confirm_usefulnes_planning_intro
      title: "Sounds reasoable."
    text: "Does that make sense?"

  utter_routines_1:
  - text: "Nice! Before we can get started, let's see when you have free time."

  utter_routines_2:
  - text: "You don't have to provide me with your exact daily schedule, but let me know if you have any routines in place."

  utter_routines_3:
  - text: "For example, most people work a day job. But maybe you have things planned on some evenings as well."

  utter_routines_monday:
  - buttons:
    - payload: /confirm_monday{"monday_morning":"True"}
      title: "Morning (6:00 - 10:00)"
    - payload: /confirm_monday{"monday_midday":"True"}
      title: "Midday (10:00 - 14:00)"
    - payload: /confirm_monday{"monday_afternoon":"True"}
      title: "Afternoon (14:00 - 18:00)"
    - payload: /confirm_monday{"monday_evening":"True"}
      title: "Evening (18:00 - 22:00)"    
    - payload: /confirm_monday_continue
      title: "I'm never free on Mondays."
    text: "Use the buttons to let me know when you are usually free on Mondays."
   

  utter_routines_monday_repeat:
  - buttons:
    - payload: /confirm_monday{"monday_morning":"True"}
      title: "Morning (6:00 - 10:00)"
    - payload: /confirm_monday{"monday_midday":"True"}
      title: "Midday (10:00 - 14:00)"
    - payload: /confirm_monday{"monday_afternoon":"True"}
      title: "Afternoon (14:00 - 18:00)"
    - payload: /confirm_monday{"monday_evening":"True"}
      title: "Evening (18:00 - 22:00)"    
    - payload: /confirm_monday_continue
      title: "I have no other times when I am free on Mondays."
    text: "Is there any other time when you are free on Mondays?"

  utter_confirm_monday_slots:
  - text: "So those are all the times when you are free on Mondays:\n Morning: {monday_morning},\n Midday: {monday_midday},\n Afternoon: {monday_afternoon},\n Evening: {monday_evening}."

  utter_routines_tuesday:
  - buttons:
    - payload: /confirm_tuesday{"tuesday_morning":"True"}
      title: "Morning (6:00 - 10:00)"
    - payload: /confirm_tuesday{"tuesday_midday":"True"}
      title: "Midday (10:00 - 14:00)"
    - payload: /confirm_tuesday{"tuesday_afternoon":"True"}
      title: "Afternoon (14:00 - 18:00)"
    - payload: /confirm_tuesday{"tuesday_evening":"True"}
      title: "Evening (18:00 - 22:00)"    
    - payload: /confirm_tuesday_continue
      title: "I'm never free on Tuesdays."
    text: "Use the buttons to let me know when you are usually free on Tuesdays."

  utter_routines_tuesday_repeat:
  - buttons:
    - payload: /confirm_tuesday{"tuesday_morning":"True"}
      title: "Morning (6:00 - 10:00)"
    - payload: /confirm_tuesday{"tuesday_midday":"True"}
      title: "Midday (10:00 - 14:00)"
    - payload: /confirm_tuesday{"tuesday_afternoon":"True"}
      title: "Afternoon (14:00 - 18:00)"
    - payload: /confirm_tuesday{"tuesday_evening":"True"}
      title: "Evening (18:00 - 22:00)"    
    - payload: /confirm_tuesday_continue
      title: "I have no other times when I am free on Tuesdays."
    text: "Is there any other time when you are free on Tuesdays?"

  utter_confirm_tuesday_slots:
  - text: "So those are all the times when you are free on Tuesdays:\n Morning: {tuesday_morning},\n Midday: {tuesday_midday},\n Afternoon: {tuesday_afternoon},\n Evening: {tuesday_evening}."


  utter_routines_wednesday:
  - buttons:
    - payload: /confirm_wednesday{"wednesday_morning":"True"}
      title: "Morning (6:00 - 10:00)"
    - payload: /confirm_wednesday{"wednesday_midday":"True"}
      title: "Midday (10:00 - 14:00)"
    - payload: /confirm_wednesday{"wednesday_afternoon":"True"}
      title: "Afternoon (14:00 - 18:00)"
    - payload: /confirm_wednesday{"wednesday_evening":"True"}
      title: "Evening (18:00 - 22:00)"    
    - payload: /confirm_wednesday_continue
      title: "I'm never free on Wednesday."
    text: "Use the buttons to let me know when you are usually free on Wednesdays."

  utter_routines_wednesday_repeat:
  - buttons:
    - payload: /confirm_wednesday{"wednesday_morning":"True"}
      title: "Morning (6:00 - 10:00)"
    - payload: /confirm_wednesday{"wednesday_midday":"True"}
      title: "Midday (10:00 - 14:00)"
    - payload: /confirm_wednesday{"wednesday_afternoon":"True"}
      title: "Afternoon (14:00 - 18:00)"
    - payload: /confirm_wednesday{"wednesday_evening":"True"}
      title: "Evening (18:00 - 22:00)"    
    - payload: /confirm_wednesday_continue
      title: "I have no other times when I am free on Wednesdays."
    text: "Is there any other time when you are free on Wednesdays?"

  utter_confirm_wednesday_slots:
  - text: "So those are all the times when you are free on Wednesdays:\n Morning: {wednesday_morning},\n Midday: {wednesday_midday},\n Afternoon: {wednesday_afternoon},\n Evening: {wednesday_evening}."


  utter_routines_thursday:
  - buttons:
    - payload: /confirm_thursday{"thursday_morning":"True"}
      title: "Morning (6:00 - 10:00)"
    - payload: /confirm_thursday{"thursday_midday":"True"}
      title: "Midday (10:00 - 14:00)"
    - payload: /confirm_thursday{"thursday_afternoon":"True"}
      title: "Afternoon (14:00 - 18:00)"
    - payload: /confirm_thursday{"thursday_evening":"True"}
      title: "Evening (18:00 - 22:00)"    
    - payload: /confirm_thursday_continue
      title: "I'm never free on Thursday."
    text: "Use the buttons to let me know when you are usually free on Thursdays."

  utter_routines_thursday_repeat:
  - buttons:
    - payload: /confirm_thursday{"thursday_morning":"True"}
      title: "Morning (6:00 - 10:00)"
    - payload: /confirm_thursday{"thursday_midday":"True"}
      title: "Midday (10:00 - 14:00)"
    - payload: /confirm_thursday{"thursday_afternoon":"True"}
      title: "Afternoon (14:00 - 18:00)"
    - payload: /confirm_thursday{"thursday_evening":"True"}
      title: "Evening (18:00 - 22:00)"    
    - payload: /confirm_thursday_continue
      title: "I have no other times when I am free on Thursdays."
    text: "Is there any other time when you are free on Thursdays?"

  utter_confirm_thursday_slots:
  - text: "So those are all the times when you are free on Thursdays:\n Morning: {thursday_morning},\n Midday: {thursday_midday},\n Afternoon: {thursday_afternoon},\n Evening: {thursday_evening}."



  ### End session
  utter_email_reminder:
    - text: "That's all for this session. I'll be sending you a message with your activity on Prolific right after this session."


  utter_prolific_link:
    - text: "Alright! Then here is your completion link: ... ."


  utter_goodbye:
    - text: "Bye!"
      buttons:
      - payload: /confirm_goodbye
        title: "Goodbye!"


  utter_final_close_session:
  - text: "THIS IS THE END OF THIS SESSION. PLEASE CLOSE THIS WINDOW.\nANY FURTHER TYPING IN THIS CHAT RENDERS THIS SESSION INVALID. IF YOU HAVE QUESTIONS, CONTACT THE RESEARCHER PER MESSAGE ON PROLIFIC."


  ### General
  utter_great:
  - text: Great!
  - text: Perfect!
  - text: Awesome!


  utter_cool:
  - text: Nice!
  - text: Cool!
  - text: Perfect!


  utter_thanks:
  - text: "Thanks!"
  - text: "Thanks for letting me know!"
  - text: "Okay thanks!"
  - text: "Thanks for sharing that with me!"


  utter_provide_more_detail:
  - text: "Hmm, can you describe this in a bit more detail?"
  - text: "I see, could you elaborate a little more on this?"
  - text: "I'd like to understand better, can you give me more details on this?"
  - text: "I'm not quite following, could you provide more details?"


  utter_default:
  - text: "There is a problem with this session."


  utter_default_close_session:
  - text: "PLEASE CLOSE THIS WINDOW AND CONTACT THE RESEARCHER ON PROLIFIC."


  utter_error_close_session:
  - text: "PLEASE CLOSE THIS WINDOW. ANY FURTHER TYPING IN THIS CHAT RENDERS THIS SESSION INVALID."


session_config:
  session_expiration_time: 5  # these are minutes
  carry_over_slots_to_new_session: false


# Needed so that slots can be set via buttons
config:
  store_entities_as_slots: true


actions:
- action_load_session_first
- action_end_dialog
- action_default_fallback_end_dialog
